================================================================================
FEDERATED LEARNING EXPERIMENT - FULL RUN
================================================================================
Output Directory: fl_experiment_20260111_145926
Num Clients: 5
Num Rounds: 15
================================================================================

Using device: cpu
Random seed: 42

================================================================================
STEP 1: Loading Data
================================================================================

================================================================================
STEP 2: Creating Splits (Scaler fit on train only)
================================================================================

================================================================================
STEP 3: Dirichlet Partitioning (Non-IID)
================================================================================
[SAVED] fl_experiment_20260111_145926/01_client_heterogeneity.png

================================================================================
STEP 3.5: Hyperparameter Tuning
================================================================================
Models to tune: all
Trials per model: 10

[COMPLETE] Hyperparameter tuning results saved to fl_experiment_20260111_145926/

[LOADING] Tuned hyperparameters from fl_experiment_20260111_145926/best_hyperparams.json
  MLP: {'lr': 0.0013292918943162175, 'hidden1': 256, 'hidden2': 96, 'dropout': 0.2993292420985183}
  LSTM: {'lr': 0.00010388823104027947, 'hidden': 32, 'layers': 4, 'dropout': 0.43155171293779676}
  XGBOOST: {'n_estimators': 200, 'max_depth': 12, 'learning_rate': 0.16217936517334897}
  LogisticRegression: {'C': 0.0019517224641449498, 'solver': 'lbfgs'}

================================================================================
STEP 4: Federated Learning (MLP)
================================================================================
[SAVED] fl_experiment_20260111_145926/mlp_model.pth
[SAVED] fl_experiment_20260111_145926/mlp_config.json

================================================================================
STEP 5: Calibration Methods Comparison
================================================================================
[SAVED] Calibration models: platt_scaler.pth, temperature_scaler.pth, beta_scaler.pth

================================================================================
STEP 6: Federated Learning (LSTM)
================================================================================
[SAVED] fl_experiment_20260111_145926/lstm_model.pth
[SAVED] fl_experiment_20260111_145926/lstm_config.json

================================================================================
STEP 7: Training Baseline Models
================================================================================
[SAVED] fl_experiment_20260111_145926/central_nn.pth

================================================================================
STEP 7b: Comprehensive Calibration Analysis
================================================================================

Calibration Analysis Summary (Best ECE per model):
  FL-FedAvg (MLP): Beta (ECE=0.0564)
  FL-FedAvg (LSTM): Platt (ECE=0.0716)
  Central NN: Temperature (ECE=0.0302)

================================================================================
STEP 8: Final Model Comparison
================================================================================

FINAL MODEL LEADERBOARD:
              Model  Accuracy       F1      ECE
Logistic Regression  0.675333 0.457079 0.235706
         Central NN  0.812778 0.383912 0.030201
     Local NN (Avg)  0.566233 0.280500 0.352860
            FL-LSTM  0.791111 0.249501 0.071553
             FL-MLP  0.793889 0.205567 0.056409

================================================================================
STEP 9: SHAP Analysis
================================================================================
[SAVED] fl_experiment_20260111_145926/07_shap_summary.png

================================================================================
STEP 9b: LIME Analysis
================================================================================

================================================================================
EXPERIMENT COMPLETE
================================================================================

Results saved to: fl_experiment_20260111_145926/
  - experiment_log.txt
  - results_summary.csv
  - Visualization figures

================================================================================
KEY FINDINGS
================================================================================
  - Results Summary and Leaderboard above

================================================================================
